# Informative: Example #2 of a caller workflow calling a reusable workflow located in a different repo (Gets the team members of a given team)


name: Example Caller Workflow 2 (Get users from a team)

on:

  # Allows you to run this workflow manually from the Actions tab
  workflow_dispatch:
    inputs:
        team_slug: 
            description: "Team name"
            required: false
            type: choice
            options:
              - team-mario
              - team-luigi
              - team-peach
              - team-toad
env:
    GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
    TEAMS_READ_TOKEN: ${{ secrets.TEAMS_READ_ACCESS }}

jobs:
  # Call reusable-workflow-2-teams from mcummings128/reusable-workflow-github-actions repo.
  call-reusable-workflow-2:
    name: Call mcummings128/reusable-workflow-2... workflow
    # TODO: TOKEN STUFF EXPLAIN
    uses: mcummings128/reusable-workflow-github-actions/.github/workflows/reusable-workflow-2-teams.yml@839693b4f0def3c744e640082e814ea903923be5
    with: 
        team_name: "${{ inputs.team_slug }}"
        token: "$TEAMS_READ_TOKEN"